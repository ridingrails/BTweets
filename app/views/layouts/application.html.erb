<!DOCTYPE html>
<html>
  <head>
    <title>BTweets</title>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="//maps.google.com/maps/api/js?v=3.13&sensor=false&libraries=geometry", type="text/javascript"></script>
    <script src="https://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer.js"></script> 
    <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <%= csrf_meta_tags %>
  </head>
  <body>
    <div class="container-fluid">
      <%= yield %>
    
      <div class="map_div col-md-7">
        <div style='width: 1000px;'>
          <div id="map" style='width: 1000px; height: 800px;'></div>
        </div>
      </div>
    </div>
  </body>
<script>

  var southWest = new google.maps.LatLng( -120, -300 );
  var northEast = new google.maps.LatLng( 120, 300 );
  var sizeBounds = new google.maps.LatLngBounds( southWest, northEast );

  var mapOptions = 
  {
    maxZoom: 12,
    minZoom: 1,
    bounds: sizeBounds

  };

  var handler = Gmaps.build('Google');
  handler.buildMap({provider: mapOptions, internal: {id: 'map'}}, function(){
    var markers = handler.addMarkers([
      { lat: 100, lng: -100},
      { lat: 100, lng: 100},
      { lat: -100, lng: 100},
      { lat: 49, lng: 4},
      { lat: 51, lng: 3.5}
    ]);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
  });

</script>
</html>
